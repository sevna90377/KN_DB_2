using KN_DB.Models;
using System;
using System.Threading;
 
/*
 * Klasa odpowiedzialna za komunikację z użytkownikiem (View)
 * 
 * 
 */

namespace KN_DB.Main.View
{
    internal class Menu : BaseMenu
    {
        private readonly Presenter _presenter;

        public Menu()
        {
            _presenter = new Presenter(this);
        }

        private void Startup()
        {
            Console.WindowHeight = 20;
            Console.WindowWidth = 69;

            Console.Write(welcome_panel);
            Thread.Sleep(1000);
            while (Console.KeyAvailable) Console.ReadKey(true);
        }


        private void CoursesMenu()
        {
            ConsoleKey key = ConsoleKey.S;
            choice = 0;
            do
            {
                Console.Clear();
                Console.WriteLine(courses_menu[choice]);

                key = Console.ReadKey().Key;
                if (ChoiceHandle(key, courses_menu.Length))
                {
                    switch (choice)
                    {
                        case 0:
                            break;
                        case 1:
                            break;
                        case 2:
                            break;
                        case 3:
                            return;
                    }
                }
            } while (key != ConsoleKey.Escape);
        }
        private void SectionsMenu()
        {
            ConsoleKey key = ConsoleKey.S;
            choice = 0;
            do
            {
                Console.Clear();
                Console.WriteLine(sections_menu[choice]);

                key = Console.ReadKey().Key;
                if (ChoiceHandle(key, sections_menu.Length))
                {
                    switch (choice)
                    {
                        case 0:
                            break;
                        case 1:
                            break;
                        case 2:
                            break;
                        case 3:
                            return;
                    }
                }
            } while (key != ConsoleKey.Escape);
        }
        private void ProjectsMenu()
        {
            ConsoleKey key = ConsoleKey.S;
            choice = 0;
            do
            {
                Console.Clear();
                Console.WriteLine(projects_menu[choice]);

                key = Console.ReadKey(false).Key;
                if (ChoiceHandle(key, projects_menu.Length))
                {
                    switch (choice)
                    {
                        case 0:
                            break;
                        case 1:
                            break;
                        case 2:
                            break;
                        case 3:
                            return;
                    }
                }
            } while (key != ConsoleKey.Escape);
        }

        internal void showEntity(string? v)
        {
            if (string.IsNullOrEmpty(v)) return;
            Console.WriteLine(v);
        }

        internal void printHeader()
        {
            Console.Clear();
            Console.WriteLine(member_header);
        }

        internal void memberBottomMenu()
        {
            Console.Write(bottom_menu);
        }

        protected override void HandleChoice(int choice)
        {
            switch (choice)
            {
                case 0:
                    break;
                case 1:
                    MemberMenu menu = new MemberMenu();
                    menu.Run();
                    choice = 0;
                    break;
                case 2:
                    CoursesMenu();
                    choice = 0;
                    break;
                case 3:
                    SectionsMenu();
                    choice = 0;
                    break;
                case 4:
                    ProjectsMenu();
                    choice = 0;
                    break;
                case 5:
                    Environment.Exit(0);
                    return;
            }
        }

        readonly string welcome_panel =
@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>
";

        string bottom_menu =
@"|---<>_________________________________________________________<>---|
    |                                                           |
    <>_________________________________________________________<>
";

        readonly string member_header =
@"   <>-----------------------------------------------------------<>
   |                  CZŁONKOWIE _ STRONA 0/0                    |
|--<>-----------------------------------------------------------<>--|
| Imię                   | Nazwa na discord      | Data dołączenia  |
|                        |                       |                  |";

        readonly string[] main_menu = {
@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     CZŁONKOWIE                                            |
    |                                                           |
    |      KURSY                                                |
    |                                                           |
    |       SEKCJE                                              |
    |                                                           |
    |        PROJEKTY                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                           WYJSCIE esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |  >> CZŁONKOWIE                                            |
    |                                                           |
    |      KURSY                                                |
    |                                                           |
    |       SEKCJE                                              |
    |                                                           |
    |        PROJEKTY                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                           WYJSCIE esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     CZŁONKOWIE                                            |
    |                                                           |
    |   >> KURSY                                                |
    |                                                           |
    |       SEKCJE                                              |
    |                                                           |
    |        PROJEKTY                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                           WYJSCIE esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     CZŁONKOWIE                                            |
    |                                                           |
    |      KURSY                                                |
    |                                                           |
    |    >> SEKCJE                                              |
    |                                                           |
    |        PROJEKTY                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                           WYJSCIE esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     CZŁONKOWIE                                            |
    |                                                           |
    |      KURSY                                                |
    |                                                           |
    |       SEKCJE                                              |
    |                                                           |
    |     >> PROJEKTY                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                           WYJSCIE esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     CZŁONKOWIE                                            |
    |                                                           |
    |      KURSY                                                |
    |                                                           |
    |       SEKCJE                                              |
    |                                                           |
    |        PROJEKTY                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                           WYJSCIE  <<     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>"
        };
        readonly string[] member_menu =;
        readonly string[] courses_menu = {
@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL KURSY                                        |
    |                                                           |
    |      DODAJ NOWY KURS                                      |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    | >>  WYSWIETL KURSY                                        |
    |                                                           |
    |      DODAJ NOWY KURS                                      |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL KURSY                                        |
    |                                                           |
    |   >> DODAJ NOWY KURS                                      |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL KURSY                                        |
    |                                                           |
    |      DODAJ NOWY KURS                                      |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ  <<     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>"

        };
        readonly string[] sections_menu = {
@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL SEKCJE                                       |
    |                                                           |
    |      DODAJ NOWĄ SEKCJĘ                                    |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    | >>  WYSWIETL SEKCJE                                       |
    |                                                           |
    |      DODAJ NOWĄ SEKCJĘ                                    |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL SEKCJE                                       |
    |                                                           |
    |   >> DODAJ NOWĄ SEKCJĘ                                    |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL SEKCJE                                       |
    |                                                           |
    |      DODAJ NOWĄ SEKCJĘ                                    |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ  <<     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>"

        };
        readonly string[] projects_menu = {
@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL PROJEKTY                                     |
    |                                                           |
    |      DODAJ NOWY PROJEKT                                   |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    | >>  WYSWIETL PROJEKTY                                     |
    |                                                           |
    |      DODAJ NOWY PROJEKT                                   |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL PROJEKTY                                     |
    |                                                           |
    |   >> DODAJ NOWY PROJEKT                                   |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ esc     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>",

@"
   <>-----------------------------------------------------------<>
   |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
   <>-----------------------------------------------------------<>
    |                                                           |
    |                                                           |
    |     WYSWIETL PROJEKTY                                     |
    |                                                           |
    |      DODAJ NOWY PROJEKT                                   |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                                           |
    |                                            WSTECZ  <<     |
    <>_________________________________________________________<>
    |                                                           |
    <>_________________________________________________________<>"

        };

        protected override string[] MenuItems
        {
            get
            {
                return new string[] {
        @"
           <>-----------------------------------------------------------<>
           |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
           <>-----------------------------------------------------------<>
            |                                                           |
            |                                                           |
            |     CZŁONKOWIE                                            |
            |                                                           |
            |      KURSY                                                |
            |                                                           |
            |       SEKCJE                                              |
            |                                                           |
            |        PROJEKTY                                           |
            |                                                           |
            |                                                           |
            |                                                           |
            |                                           WYJSCIE esc     |
            <>_________________________________________________________<>
            |                                                           |
            <>_________________________________________________________<>",

        @"
           <>-----------------------------------------------------------<>
           |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
           <>-----------------------------------------------------------<>
            |                                                           |
            |                                                           |
            |  >> CZŁONKOWIE                                            |
            |                                                           |
            |      KURSY                                                |
            |                                                           |
            |       SEKCJE                                              |
            |                                                           |
            |        PROJEKTY                                           |
            |                                                           |
            |                                                           |
            |                                                           |
            |                                           WYJSCIE esc     |
            <>_________________________________________________________<>
            |                                                           |
            <>_________________________________________________________<>",

        @"
           <>-----------------------------------------------------------<>
           |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
           <>-----------------------------------------------------------<>
            |                                                           |
            |                                                           |
            |     CZŁONKOWIE                                            |
            |                                                           |
            |   >> KURSY                                                |
            |                                                           |
            |       SEKCJE                                              |
            |                                                           |
            |        PROJEKTY                                           |
            |                                                           |
            |                                                           |
            |                                                           |
            |                                           WYJSCIE esc     |
            <>_________________________________________________________<>
            |                                                           |
            <>_________________________________________________________<>",

        @"
           <>-----------------------------------------------------------<>
           |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
           <>-----------------------------------------------------------<>
            |                                                           |
            |                                                           |
            |     CZŁONKOWIE                                            |
            |                                                           |
            |      KURSY                                                |
            |                                                           |
            |    >> SEKCJE                                              |
            |                                                           |
            |        PROJEKTY                                           |
            |                                                           |
            |                                                           |
            |                                                           |
            |                                           WYJSCIE esc     |
            <>_________________________________________________________<>
            |                                                           |
            <>_________________________________________________________<>",

        @"
           <>-----------------------------------------------------------<>
           |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
           <>-----------------------------------------------------------<>
            |                                                           |
            |                                                           |
            |     CZŁONKOWIE                                            |
            |                                                           |
            |      KURSY                                                |
            |                                                           |
            |       SEKCJE                                              |
            |                                                           |
            |     >> PROJEKTY                                           |
            |                                                           |
            |                                                           |
            |                                                           |
            |                                           WYJSCIE esc     |
            <>_________________________________________________________<>
            |                                                           |
            <>_________________________________________________________<>",

        @"
           <>-----------------------------------------------------------<>
           |                SYSTEM OBSŁUGI KÓŁ NAUKOWYCH                 |
           <>-----------------------------------------------------------<>
            |                                                           |
            |                                                           |
            |     CZŁONKOWIE                                            |
            |                                                           |
            |      KURSY                                                |
            |                                                           |
            |       SEKCJE                                              |
            |                                                           |
            |        PROJEKTY                                           |
            |                                                           |
            |                                                           |
            |                                                           |
            |                                           WYJSCIE  <<     |
            <>_________________________________________________________<>
            |                                                           |
            <>_________________________________________________________<>"
                };
            }
        }
        
    }
}
